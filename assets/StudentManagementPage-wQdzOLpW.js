import{j as e}from"./markdown-C51tXKe3.js";import{r as d}from"./router-sIAq8EKR.js";import{A as o,a as N}from"./AdminTable-DaBq8WP4.js";import{S as k}from"./StatusBadge-DywCqrwt.js";import{m as n,S,U as x}from"./icons-CT4s7XVb.js";import"./react-vendor-c5ypKtDW.js";const w=[{id:"1",name:"김이화",email:"student1@ewha.ac.kr",studentId:"2024123456",department:"컴퓨터공학과",cohort:"2024-08",status:"registered",uploadedAt:"2025-01-01T00:00:00Z",registeredAt:"2025-01-02T10:30:00Z",uploadedByName:"관리자",totalLearningTime:480,completedItems:8},{id:"2",name:"박학생",email:"student2@ewha.ac.kr",studentId:"2024123457",department:"AI학과",cohort:"2024-08",status:"pending",uploadedAt:"2025-01-15T00:00:00Z",uploadedByName:"관리자",totalLearningTime:0,completedItems:0},{id:"3",name:"이수연",email:"student3@ewha.ac.kr",studentId:"2024123458",department:"데이터사이언스과",cohort:"2024-08",status:"blocked",uploadedAt:"2025-01-01T00:00:00Z",registeredAt:"2025-01-03T14:20:00Z",uploadedByName:"관리자",notes:"부적절한 행동으로 인한 차단",totalLearningTime:120,completedItems:2}],C={currentPage:1,totalPages:3,totalCount:120,limit:50},I=()=>{const[a,p]=d.useState(""),[i,g]=d.useState("all"),[c,h]=d.useState("all"),[b,m]=d.useState(!1),j=[{key:"name",title:"이름",render:(t,s)=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email})]})},{key:"studentId",title:"학번",width:"120px"},{key:"department",title:"학과",width:"150px"},{key:"cohort",title:"기수",width:"100px"},{key:"status",title:"상태",render:t=>e.jsx(k,{status:t,size:"sm"}),width:"100px"},{key:"registeredAt",title:"가입일",render:t=>t?new Date(t).toLocaleDateString():"-",width:"120px"},{key:"completedItems",title:"진행도",render:(t,s)=>e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium",children:[t,"/15"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(t/15*100),"%"]})]}),width:"100px"}],u=(t,s)=>{console.log(`Changing status of ${t.name} to ${s}`)},y=t=>{const s=t.target.files?.[0];if(!s)return;console.log("Uploading file:",s.name);const r={successfulImports:28,skippedDuplicates:2};alert(`업로드 완료!
성공: ${r.successfulImports}건
중복: ${r.skippedDuplicates}건`),m(!1)},f=w.filter(t=>{const s=t.name.includes(a)||t.email.includes(a)||t.studentId.includes(a),r=i==="all"||t.cohort===i,v=c==="all"||t.status===c;return s&&r&&v}),l={total:120,registered:85,pending:30,blocked:5};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-l-4 border-amber-500 bg-amber-50 p-4 rounded-lg",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"학생 관리"}),e.jsx("p",{className:"text-amber-700",children:"허용된 학생 명단 및 상태 관리"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(o,{title:"총 학생 수",value:l.total,icon:n,color:"blue"}),e.jsx(o,{title:"가입 완료",value:l.registered,icon:n,color:"green"}),e.jsx(o,{title:"가입 대기",value:l.pending,icon:n,color:"amber"}),e.jsx(o,{title:"차단됨",value:l.blocked,icon:n,color:"red"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(S,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"이름, 이메일, 학번 검색...",value:a,onChange:t=>p(t.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:i,onChange:t=>g(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"전체 기수"}),e.jsx("option",{value:"2024-08",children:"2024-08"}),e.jsx("option",{value:"2024-09",children:"2024-09"})]}),e.jsxs("select",{value:c,onChange:t=>h(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"전체 상태"}),e.jsx("option",{value:"pending",children:"가입 대기"}),e.jsx("option",{value:"registered",children:"가입 완료"}),e.jsx("option",{value:"blocked",children:"차단됨"})]})]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[e.jsx(x,{size:20}),e.jsx("span",{children:"CSV 업로드"})]})]})}),e.jsx(N,{data:f,columns:j,actions:[{key:"approve",label:"승인",variant:"primary",onClick:t=>u(t,"registered"),disabled:t=>t.status==="registered"},{key:"block",label:"차단",variant:"danger",onClick:t=>u(t,"blocked"),disabled:t=>t.status==="blocked"},{key:"edit",label:"편집",onClick:t=>console.log("Edit student:",t.id)}],pagination:C,onPageChange:t=>console.log("Page changed:",t)}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"학생 명단 CSV 업로드"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"기수 선택"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"2024-08",children:"2024-08"}),e.jsx("option",{value:"2024-09",children:"2024-09"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CSV 파일"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[e.jsx(x,{size:48,className:"mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"CSV 파일을 드래그하거나 클릭하여 업로드"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"형식: name, email, student_id, department"}),e.jsx("input",{type:"file",accept:".csv",onChange:y,className:"hidden",id:"csv-upload"}),e.jsx("label",{htmlFor:"csv-upload",className:"inline-block px-4 py-2 bg-blue-600 text-white rounded cursor-pointer hover:bg-blue-700",children:"파일 선택"})]})]}),e.jsx("div",{className:"flex space-x-3",children:e.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"취소"})})]})})]})},Z=()=>e.jsx(I,{});export{Z as StudentManagementPage};
